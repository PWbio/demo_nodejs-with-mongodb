(this["webpackJsonpdemo_nodejs-with-mongodb"]=this["webpackJsonpdemo_nodejs-with-mongodb"]||[]).push([[0],{103:function(e,t,n){e.exports={Header:"Header_Header__3v0KW"}},1642:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(35),s=n.n(c),o=n(13),i=n(5),u=n(24),d=n(16),l=n(15),j=n.n(l),b=n(25),f=n(69),p=n.n(f),h=n(1699),m=n(1705),O=n(72),x=n.n(O),v=n(48),g=n.n(v),w="http://localhost:8080",k=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(w,"/get"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat(w,"/post"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.delete("".concat(w,"/delete"),{data:{id:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.delete("".concat(w,"/delete_all"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put("".concat(w,"/put"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=n(38),S=n.n(F),D=n(1702),A=n(1700),E=n(2),I=function(){var e=Object(a.useState)({open:!1,status:"success",message:""}),t=Object(o.a)(e,2),n=t[0],r=t[1],c=n.open,s=n.status,i=n.message,d=function(e,t){"clickaway"!==t&&r(Object(u.a)(Object(u.a)({},n),{},{open:!1}))};return{Notification:Object(a.useCallback)((function(){return Object(E.jsx)(E.Fragment,{children:c&&Object(E.jsx)(D.a,{open:c,autoHideDuration:3500,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(E.jsx)(A.a,{onClose:d,severity:s,sx:{width:"100%"},children:i})})})}),[c,s,i]),setAlert:r}},M=[{field:"name",label:"Company Name"},{field:"address",label:"Address"},{field:"contact",label:"Contact"},{field:"phone",label:"Phone Number"}],T=function(e){var t=e.setRefresh,n=I(),r=n.Notification,c=n.setAlert,s=Object(a.useState)({name:"",address:"",contact:"",phone:""}),l=Object(o.a)(s,2),f=l[0],O=l[1],v=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,y(f);case 4:c({open:!0,status:"success",message:"Succesfully post 1 entry to database."}),t((function(e){return!e})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({open:!0,status:"error",message:"Failed to post data to database. (".concat(e.t0.message,")")});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){return{name:S.a.company.companyName(),address:"".concat(S.a.address.streetAddress(),", ").concat(S.a.address.cityName()," ").concat(S.a.address.zipCode(),", ").concat(S.a.address.country()),contact:S.a.name.findName(),phone:S.a.phone.phoneNumber()}},w=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.a)(Array(10).keys()).map((function(e){return g()})),e.prev=1,e.next=4,y(n);case 4:c({open:!0,status:"success",message:"Succesfully post 10 entries to database."}),t((function(e){return!e})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({open:!0,status:"error",message:"Failed to post data to database. (".concat(e.t0.message,")")});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(r,{}),Object(E.jsxs)("div",{className:p.a.box,children:[Object(E.jsx)("h1",{children:"Create New Company Info "}),Object(E.jsxs)("form",{autoComplete:"off",onSubmit:v,children:[M.map((function(e){return Object(E.jsx)(h.a,{id:e.field,label:e.label,variant:"outlined",value:f[e.field],onChange:function(t){O(Object(u.a)(Object(u.a)({},f),{},Object(i.a)({},e.field,t.target.value)))},required:!0,fullWidth:!0,className:p.a.textField,margin:"normal",size:"small"},e.field)})),Object(E.jsx)(m.a,{onClick:function(){O(g())},variant:"outlined",children:"New Data (1)"}),Object(E.jsx)(m.a,{onClick:w,variant:"contained",endIcon:Object(E.jsx)(x.a,{}),children:"New Data (10)"}),Object(E.jsx)(m.a,{type:"submit",variant:"contained",endIcon:Object(E.jsx)(x.a,{}),children:"submit (POST)"})]})]})]})},z=n(103),R=n.n(z),H=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:R.a.Header,children:Object(E.jsx)("span",{children:"Company Database"})})})},J=n(1703),P=n(1708),q=n(1711),B=n(1706),G=n(1707),W=n(1709),K=n(1710),L=n(1704),V=n(1698),Q=n(104),U=n.n(Q),X=n(105),Y=n.n(X),Z=n(108),$=n.n(Z),ee=n(107),te=n.n(ee),ne=n(106),ae=n.n(ne),re=n(73),ce=n.n(re),se=[{field:"company",headerName:"Company",width:150},{field:"address",headerName:"Address",width:150},{field:"contact",headerName:"Contact",width:150},{field:"phone",headerName:"Phone",width:150}],oe=function(e){var t=e.rowData,n=e.colName,a=e.onChange,r=t.editMode,c=t[n];return Object(E.jsx)(B.a,{children:r?Object(E.jsx)(h.a,{value:c,name:n,onChange:function(e){return a(e,t)}}):Object(E.jsx)(V.a,{title:c,placement:"top",arrow:!0,children:Object(E.jsx)("div",{className:ce.a.cell,children:c})})})},ie=function(e){var t=e.refresh,n=(e.setRefresh,Object(a.useState)([])),r=Object(o.a)(n,2),c=r[0],s=r[1],l=Object(a.useState)({}),f=Object(o.a)(l,2),p=f[0],h=f[1],O=I(),x=O.Notification,v=O.setAlert,g=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,r,c,o=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(o.length>0&&void 0!==o[0])||o[0],n=o.length>1&&void 0!==o[1]&&o[1],e.prev=2,!n){e.next=5;break}throw new Error("Just a fake alarm.");case 5:return e.next=7,k();case 7:a=e.sent,r=a.data,c=r.map((function(e){return{id:e._id,company:e.name,address:e.address,contact:e.contact,phone:e.phone,editMode:!1}})),s(c),t&&v({open:!0,status:"success",message:"Succesfully retrieved data from database."}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0.message),v({open:!0,status:"error",message:"Failed to get data from database. (".concat(e.t0.message,")")});case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t);case 3:(a=Object(d.a)(c)).splice(n,1),s(a),v({open:!0,status:"success",message:"Deleted one data from database."}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),v({open:!0,status:"error",message:"Failed to delete data from database. (".concat(e.t0.message,")")});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:v({open:!0,status:"success",message:"Succesfully deleted all data from database"}),g(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message),v({open:!0,status:"error",message:"Failed to delete all data from database. (".concat(e.t0.message,")")});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),F=function(e,t){s((function(n){return n.map((function(n){return n.id===e?Object(u.a)(Object(u.a)({},n),{},{editMode:t}):n}))}))},S=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,!n){e.next=15;break}return console.log("save"),e.prev=3,e.next=6,_({id:t.id,name:t.company,address:t.address,contact:t.contact,phone:t.phone});case 6:v({open:!0,status:"success",message:"Successfully updated data !"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0.message),v({open:!0,status:"error",message:"Failed to update data. (".concat(e.t0.message,")")});case 13:e.next=17;break;case 15:console.log("discard"),s((function(e){return e.map((function(e){return e.id===a?Object(u.a)({},p[a]):e}))}));case 17:F(a,!1);case 18:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(e,t){var n=t.id,a=e.target.value,r=e.target.name,o=c.map((function(e){return e.id===n?Object(u.a)(Object(u.a)({},e),{},Object(i.a)({},r,a)):e}));s(o)};return Object(a.useEffect)((function(){g()}),[]),Object(a.useEffect)((function(){g(!1)}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(x,{}),Object(E.jsxs)("div",{className:ce.a.buttons,children:[Object(E.jsx)(m.a,{onClick:function(){return g()},variant:"contained",endIcon:Object(E.jsx)(U.a,{}),children:"Refresh (GET)"}),Object(E.jsx)(m.a,{onClick:function(){return s([])},variant:"outlined",children:"Clear Table (offline)"}),Object(E.jsx)(m.a,{onClick:function(){return y()},variant:"outlined",color:"error",children:"Remove All Data (DELETE)"}),Object(E.jsx)(m.a,{onClick:function(){return g(!0,!0)},variant:"outlined",color:"error",endIcon:Object(E.jsx)(Y.a,{}),children:"Make An Error (GET)"})]}),Object(E.jsx)(G.a,{component:L.a,children:Object(E.jsxs)(P.a,{size:"small","aria-label":"simple table",children:[Object(E.jsx)(W.a,{children:Object(E.jsxs)(K.a,{children:[Object(E.jsx)(B.a,{}),se.map((function(e){return Object(E.jsx)(B.a,{children:e.headerName},e.field)})),Object(E.jsx)(B.a,{})]})}),Object(E.jsx)(q.a,{children:c.map((function(e,t){return Object(E.jsxs)(K.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.editMode?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(B.a,{children:[Object(E.jsx)(m.a,{endIcon:Object(E.jsx)(ae.a,{}),onClick:function(){return S(e,!0)}}),Object(E.jsx)(m.a,{endIcon:Object(E.jsx)(te.a,{}),onClick:function(){return S(e,!1)}})]})}):Object(E.jsx)(B.a,{children:Object(E.jsx)(m.a,{endIcon:Object(E.jsx)($.a,{}),onClick:function(){return function(e){var t=e.id;h((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(i.a)({},t,e))})),F(t,!0)}(e)}})}),se.map((function(t){return Object(E.jsx)(oe,{rowData:e,colName:t.field,onChange:D},t.field)})),Object(E.jsx)(B.a,{children:Object(E.jsx)(m.a,{color:"error",onClick:function(){return w(e.id,t)},children:"Delete"})})]},e.id)}))})]})})]})},ue=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(H,{}),Object(E.jsxs)("div",{style:{margin:"1rem"},children:[Object(E.jsx)(T,{setRefresh:r}),Object(E.jsx)(J.a,{variant:"middle"}),Object(E.jsx)(ie,{refresh:n,setRefresh:r})]})]})},de=n(1697);s.a.render(Object(E.jsxs)(r.a.StrictMode,{children:[Object(E.jsx)(de.a,{}),Object(E.jsx)(ue,{})]}),document.getElementById("root"))},69:function(e,t,n){e.exports={box:"AddingBox_box__2zVqo"}},73:function(e,t,n){e.exports={cell:"MuiTable_cell__3zacg",buttons:"MuiTable_buttons__yc1Np"}}},[[1642,1,2]]]);
//# sourceMappingURL=main.1db07c1d.chunk.js.map